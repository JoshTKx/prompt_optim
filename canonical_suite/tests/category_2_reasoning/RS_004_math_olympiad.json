{
  "id": "RS-004",
  "name": "Tournament Scheduling and Resource Allocation",
  "category": "reasoning",
  "archetype": "C1_logical_reasoning",
  "difficulty": "hard",
  "task": {
    "description": "Test model's ability to solve complex tournament scheduling, venue allocation, and multi-constraint optimization problems requiring sophisticated logical reasoning, systematic exploration of constraint spaces, conflict resolution, and verification of multiple interdependent conditions",
    "initial_prompt": "schedule",
    "target_model": "gpt-4o-mini",
    "context": null
  },
  "test_cases": [
    {
      "input": "A regional esports tournament has 8 teams (T1-T8) competing in a double-elimination bracket across 3 gaming stations (G1, G2, G3). Station costs per hour: G1=$120, G2=$180, G3=$150. Match durations vary: winners bracket matches take 90 minutes, losers bracket matches take 75 minutes, grand finals take 120 minutes. Constraints: (1) Teams T1 and T5 cannot play before 2pm due to travel, (2) T3 and T7 must play on G2 only (sponsor requirement), (3) G1 unavailable 12-1pm for maintenance, (4) no team can play consecutive matches without 60min rest, (5) tournament must complete by 8pm starting at 10am. Create an optimal schedule minimizing station costs while satisfying all constraints. Show complete bracket progression, all constraint validations, time calculations for each match, and prove no valid lower-cost solution exists.",
      "expected_output": {
        "type": "unstructured",
        "format": "text",
        "validation": "llm_judge",
        "constraints": [
          "models_double_elimination_structure",
          "identifies_all_temporal_constraints",
          "identifies_all_resource_constraints",
          "systematic_schedule_construction",
          "verifies_team_availability",
          "verifies_station_availability",
          "verifies_rest_periods",
          "calculates_accurate_timestamps",
          "verifies_completion_deadline",
          "calculates_total_cost",
          "proves_optimality_or_explores_alternatives"
        ]
      }
    },
    {
      "input": "A film production company must schedule 5 scenes (S1-S5) using 4 actors (A1-A4) across 3 sound stages (Stage X, Y, Z) over 2 days. Scene requirements: S1 needs A1+A2, 3 hours, Stage X or Y; S2 needs A2+A3+A4, 4 hours, Stage Z only; S3 needs A1+A3, 2 hours, any stage; S4 needs A1+A4, 5 hours, Stage Y or Z; S5 needs A2+A3, 3 hours, Stage X only. Actor availability: A1 unavailable Day 1 after 3pm, A2 unavailable Day 2 before 11am, A3 needs 2-hour break between scenes, A4 maximum 6 hours per day. Stage costs: X=$500/hour, Y=$400/hour, Z=$600/hour. Each day has 10 working hours (9am-7pm). Find ALL valid schedules that complete filming, then identify the minimum cost schedule. Show complete enumeration strategy, constraint propagation for each candidate, actor hour calculations, and verification that no conflicts exist.",
      "expected_output": {
        "type": "unstructured",
        "format": "text",
        "validation": "llm_judge",
        "constraints": [
          "formulates_complete_constraint_system",
          "systematic_enumeration_of_schedules",
          "tracks_actor_availability_across_time",
          "tracks_stage_availability_across_time",
          "verifies_scene_requirements",
          "verifies_actor_constraints",
          "calculates_daily_hours_per_actor",
          "handles_break_requirements",
          "identifies_all_valid_solutions",
          "calculates_cost_for_each_solution",
          "identifies_minimum_cost_schedule",
          "shows_conflict_detection_process"
        ]
      }
    },
    {
      "input": "A law firm must assign 6 cases (C1-C6) to 4 lawyers (L1-L4) with expertise matching and workload balancing. Case requirements and billable hours: C1 (Corporate, 45h), C2 (Litigation, 60h), C3 (IP, 38h), C4 (Corporate, 52h), C5 (Litigation, 41h), C6 (IP, 55h). Lawyer expertise and capacity: L1 (Corporate+IP, max 100h), L2 (Litigation only, max 90h), L3 (Corporate+Litigation, max 95h), L4 (IP+Litigation, max 85h). Additional constraints: (1) Each case assigned to exactly one lawyer, (2) No lawyer exceeds capacity, (3) Workload variance across lawyers must be minimized (difference between highest and lowest assigned hours \u226425h), (4) C2 and C5 cannot be assigned to same lawyer (conflict of interest), (5) L1 must handle at least one IP case. Find the optimal assignment that satisfies all constraints and minimizes workload variance. Show systematic exploration of assignment combinations, constraint checking for each candidate, variance calculations, and proof that your solution achieves minimum variance among valid assignments.",
      "expected_output": {
        "type": "unstructured",
        "format": "text",
        "validation": "llm_judge",
        "constraints": [
          "models_assignment_problem_correctly",
          "identifies_expertise_constraints",
          "identifies_capacity_constraints",
          "identifies_conflict_constraints",
          "identifies_minimum_assignment_constraint",
          "systematic_exploration_of_assignments",
          "calculates_workload_per_lawyer",
          "calculates_variance_metric",
          "verifies_all_constraints_satisfied",
          "proves_optimality_of_variance",
          "shows_pruning_of_invalid_assignments",
          "demonstrates_complete_search_strategy"
        ]
      }
    },
    {
      "input": "A regional power grid has 4 generators (G1-G4) supplying electricity to 5 districts (D1-D5) through a network with transmission loss. Generator capacities and costs: G1 (500MW, $40/MW), G2 (600MW, $35/MW), G3 (450MW, $45/MW), G4 (550MW, $38/MW). District demands: D1 (380MW), D2 (420MW), D3 (350MW), D4 (460MW), D5 (340MW). Transmission loss rates (% lost per route): G1\u2192D1(3%), G1\u2192D2(5%), G1\u2192D3(7%), G1\u2192D4(8%), G1\u2192D5(6%), G2\u2192D1(4%), G2\u2192D2(2%), G2\u2192D3(6%), G2\u2192D4(5%), G2\u2192D5(7%), G3\u2192D1(6%), G3\u2192D2(7%), G3\u2192D3(3%), G3\u2192D4(4%), G3\u2192D5(8%), G4\u2192D1(5%), G4\u2192D2(6%), G4\u2192D3(4%), G4\u2192D4(3%), G4\u2192D5(5%). Additional constraints: (1) G2 must supply at least 30% of D2's demand (reliability requirement), (2) No single generator can supply more than 60% of any district's demand (redundancy), (3) G3 unavailable to supply D1 and D5 (maintenance), (4) Total generation cost must not exceed $75,000. Find the optimal power allocation that meets all district demands accounting for transmission losses, satisfies all constraints, and minimizes total generation cost. Show transmission loss calculations, constraint verification, iterative optimization process, and prove demand satisfaction.",
      "expected_output": {
        "type": "unstructured",
        "format": "text",
        "validation": "llm_judge",
        "constraints": [
          "models_transmission_loss_correctly",
          "formulates_supply_demand_with_losses",
          "identifies_all_routing_constraints",
          "identifies_minimum_supply_constraint",
          "identifies_maximum_supply_constraint",
          "identifies_availability_constraints",
          "identifies_budget_constraint",
          "shows_systematic_optimization_approach",
          "calculates_actual_power_delivered",
          "calculates_power_generated_accounting_for_loss",
          "verifies_generator_capacity_limits",
          "verifies_district_demand_satisfaction",
          "calculates_total_generation_cost",
          "shows_allocation_matrix_with_losses",
          "demonstrates_cost_minimization_proof"
        ]
      }
    }
  ],
  "evaluation": {
    "method": "llm_judge",
    "validators": [
      "correctness_checker",
      "reasoning_checker",
      "constraint_verification_checker",
      "optimization_checker",
      "completeness_checker"
    ],
    "rubric": "five_point_standard",
    "pass_criteria": {
      "minimum_score": 4,
      "required_validators": [
        "correctness_checker",
        "reasoning_checker",
        "constraint_verification_checker"
      ],
      "all_test_cases_must_pass": true
    }
  },
  "optimization_challenge": "Models frequently fail when faced with interconnected constraint systems, transmission losses, conflict-of-interest rules, temporal dependencies, and multi-objective optimization. Common failures include: incomplete constraint identification, failure to account for cascading effects (like transmission losses requiring higher generation), inadequate systematic exploration leading to missed solutions, incorrect variance or optimization calculations, and inability to prove optimality. The optimizer must learn to: explicitly enumerate ALL constraints upfront, develop systematic search strategies with pruning, show step-by-step verification of each constraint for candidate solutions, account for derived quantities (losses, rest periods, cascading time effects), calculate optimization metrics correctly, and provide proof of optimality through exhaustive search or logical argument. The prompt must force constraint listing, require verification matrices, demand proof of completeness, and insist on showing alternative solutions that were considered and rejected.",
  "metadata": {
    "source": "regenerated",
    "tags": [
      "tournament_scheduling",
      "resource_allocation",
      "constraint_satisfaction",
      "multi_objective_optimization",
      "conflict_resolution",
      "temporal_reasoning",
      "network_optimization",
      "assignment_problems",
      "operations_research",
      "combinatorial_optimization"
    ],
    "archetype_class": "C_reasoning",
    "domain": "sports_entertainment_legal_energy"
  }
}